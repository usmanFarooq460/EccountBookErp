<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <h4>Supplier List</h4>
        </div>
    </div>
    <dx-form id="form" [formData]="SupplierListFormData" #SupplierListForm [showRequiredMark]="false" [colCountByScreen]="{ lg: 6, md: 3, sm: 2, xs: 1 }">
      <dxi-item></dxi-item>
        <dxi-item
          cssClass="px-1 m-0"
          dataField="SupplierCustomerId"
          editorType="dxSelectBox"
          [editorOptions]="{
            dataSource: SupplierList,
            searchEnabled: true,
            valueExpr: 'Id',
            displayExpr: 'CompanyName',
            placeholder: 'Supplier',
            showClearButton: 'true',
            stylingMode: 'underlined'
          }"
        >
          <dxo-label text=" " location="top" [showColon]="false"></dxo-label>
        </dxi-item>
        <dxi-item
        cssClass="px-1 m-0"
        dataField="CountryId"
        editorType="dxSelectBox"
        [editorOptions]="{
          items: CountryList,
          valueExpr: 'Id',
          displayExpr: 'Description',
          searchEnabled: true,
          placeholder: 'Country',
          onValueChanged: onCountryLeaveHandle,
          stylingMode: 'underlined'
        }"
      >
        <dxo-label text=" " location="top" [showColon]="false"></dxo-label>
        <!-- <dxi-validation-rule type="required" message="Country is required"></dxi-validation-rule> -->
      </dxi-item>
      <dxi-item
      dataField="CityId"
      cssClass="px-1 m-0"
      editorType="dxSelectBox"
      [editorOptions]="{
        items: CityList,
        valueExpr: 'Id',
        displayExpr: 'CityName',
        searchEnabled: true,
        placeholder: 'City',
        stylingMode: 'underlined'
      }"
    >
      <dxo-label text=" " location="top" [showColon]="false"></dxo-label>
      <!-- <dxi-validation-rule type="required" message="City is required"></dxi-validation-rule> -->
    </dxi-item>
    <dxi-item>
        <dx-button class="btn-sm" style="margin-top: 10px" text="Show" type="success" (onClick)="onSubmit()"></dx-button>
      </dxi-item>
      <dxi-item></dxi-item>
      </dx-form>
    <div class="row">
        <div class="col-md-12">
            <div class="card shadow-lg p-3 mb-5 bg-white rounded">
                <dx-data-grid
                  
                  #SupplierCustomerRegisterHistoryGrid
                  [height]="gridHeight"
                  [dataSource]="DataSource"
                  [showColumnLines]="false"
                  [showRowLines]="true"
                  [rowAlternationEnabled]="true"
                  [allowColumnReordering]="true"
                  [allowColumnResizing]="true"
                  [columnAutoWidth]="true"
                  [showBorders]="true"
                  (onToolbarPreparing)="onToolPreparingOfItemHistoryGrid($event)"
                >
                  <dxo-grouping [contextMenuEnabled]="true"></dxo-grouping>
                  <dxo-group-panel [visible]="true"></dxo-group-panel>
                  <dxo-filter-row [visible]="filter"></dxo-filter-row>
                  <dxo-header-filter [visible]="filter"></dxo-header-filter>
                  <dxo-search-panel [visible]="true" [width]="250" [visible]="filter"></dxo-search-panel>
                  <dxo-column-chooser [enabled]="true"></dxo-column-chooser>
                  <dxo-load-panel [enabled]="false"></dxo-load-panel>
                  <dxo-export [enabled]="true" fileName="Estimates" [allowExportSelectedData]="true">
                    <dxo-texts exportAll="Export All Rows"></dxo-texts>
                  </dxo-export>
                  <!-- <dxo-selection mode="multiple" selectAllMode="page" showCheckBoxesMode="always"></dxo-selection> -->
                  <dxo-state-storing [enabled]="true" type="localStorage" storageKey="{{ HistoryGridSateKey('SupplierCustomerRegisterGridState') }}"></dxo-state-storing>
                  <dxo-column-fixing [enabled]="true"></dxo-column-fixing>
                  <dxi-column dataField="Sr#" [fixed]="true" [fixedPosition]="'left'" caption="Sr#" cellTemplate="SerialNumberTemplate"></dxi-column>
                  <div *dxTemplate="let cellInfo of 'SerialNumberTemplate'">
                    <div class="d-con-cell-action">
                      <h5 style="font-family: cursive; font-weight: bold">{{ cellInfo.rowIndex + 1 }}</h5>
                    </div>
                  </div>
        
                  <dxo-paging [enabled]="true"></dxo-paging>
                  <dxo-pager [showPageSizeSelector]="true" [allowedPageSizes]="[20, 50, 100]" [showInfo]="true"></dxo-pager>
                  <dxi-column dataField="Id" caption="id" [visible]="false" dataType="number" [width]="80"></dxi-column>
                  
                  
                  <dxi-column dataField="AccountTitle" caption="Name" dataType="string"></dxi-column>
                  <dxi-column dataField="CodeCountry" caption="Country" dataType="string" alignment="left"></dxi-column>
                  <dxi-column dataField="CodeCity" caption="City" dataType="string" alignment="left"></dxi-column>
                  <dxi-column dataField="MobilePersonal" caption="Mobile" dataType="string" alignment="left"></dxi-column>
                  <dxi-column dataField="ZipCode" caption="Pst Code" dataType="string" alignment="left"></dxi-column>
                  <dxi-column dataField="CNIC" caption="CNIC" dataType="string" alignment="left"></dxi-column>
                  <dxi-column dataField="Code" caption="Group" dataType="string" alignment="left"></dxi-column>
                  <dxi-column dataField="Email" caption="Email" dataType="string" alignment="left"></dxi-column>
                  <dxi-column dataField="Address1" caption="Address" dataType="string" alignment="left"></dxi-column>
                  <dxi-column dataField="STRN_No" caption="STRN_No" dataType="string" alignment="left"></dxi-column>
                  <dxi-column dataField="NTN_No" caption="NTN_No" dataType="string" alignment="left"></dxi-column>

                 
                  <!-- <dxi-column
                    dataField="button"
                    [fixed]="true"
                    [fixedPosition]="'right'"
                    [width]="90"
                    alignment="center"
                    caption="Action"
                    [allowEditing]="false"
                    [allowExporting]="false"
                    [allowFiltering]="false"
                    [allowFixing]="false"
                    [allowGrouping]="false"
                    [allowHeaderFiltering]="false"
                    [allowHiding]="false"
                    [allowReordering]="false"
                    [allowResizing]="false"
                    [allowSearch]="false"
                    [allowSorting]="false"
                    cellTemplate="buttonTemplate"
                  ></dxi-column>
                  <div *dxTemplate="let cellInfo of 'buttonTemplate'">
                    <div class="d-con-cell-action">
                      <dx-button type="success" stylingMode="text" hint="301-Sale Invoice Slip" (onClick)="ReportSlip301(cellInfo.data)">
                        <i class="ri-printer-line"></i>
                      </dx-button>
                      <dx-button type="success" stylingMode="text" hint="103-Sale Invoice Voucher" (onClick)="ReportVoucher103(cellInfo.data)">
                        <i class="ri-printer-line"></i>
                      </dx-button>
                    </div>
                  </div> -->
                  <dxo-export [enabled]="true" [allowExportSelectedData]="true"></dxo-export>
        
                  <dxo-summary>
                    <dxi-total-item column="Sr#" summaryType="count" displayFormat="{0}"> </dxi-total-item>
                    
                  </dxo-summary>
        
                  <dxo-scrolling [scrollByContent]="true" [scrollByThumb]="true" [showScrollbar]="'always'" [scrollLeft]="true" mode="infinite"></dxo-scrolling>
                </dx-data-grid>
              </div>
        </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <notification-popups [title]="'WARNING'" [type]="'warning'" (okClicked)="closeNotificationPopups($event)" [visibility]="warningPopupVisibility" [message]="message"></notification-popups>
        <notification-popups [title]="'ERROR'" [type]="'error'" (okClicked)="closeNotificationPopups($event)" [visibility]="errorPopupVisisble" [message]="message"></notification-popups>
        <notification-popups [title]="'Status'" [type]="'success'" (okClicked)="closeNotificationPopups($event)" [visibility]="successPopupVisible" [message]="message"></notification-popups>
      </div>
      <div class="col-md-12">
        <load-panel [message]="loadPanelMessage" [visibility]="loadPanelVisible"></load-panel>
      </div>
  
    </div>
</div>